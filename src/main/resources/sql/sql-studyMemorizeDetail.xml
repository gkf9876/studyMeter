<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="studyMemorizeDetail">
	<select id="selectList" parameterType="com.kdw.studyMeter.study.memorize.vo.StudyMemorizeDetailVo" resultType="com.kdw.studyMeter.study.memorize.vo.StudyMemorizeDetailVo">
		/* studyMemorizeDetail.selectList */
		SELECT
			SEQ
			, PARENT_SEQ
			, DATE
			, CONTENTS
			, FILE_SEQS
			, USE_YN
			, CREATE_DATE
		FROM
			TB_STUDY_MEMORIZE_DETAIL
		WHERE
			1=1
			AND USE_YN = 'Y'
			AND PARENT_SEQ = #{parentSeq}
		ORDER BY
			DATE DESC, CREATE_DATE DESC
    </select>
    
	<select id="selectOne" parameterType="com.kdw.studyMeter.study.memorize.vo.StudyMemorizeDetailVo" resultType="com.kdw.studyMeter.study.memorize.vo.StudyMemorizeDetailVo">
		/* studyMemorizeDetail.selectOne */
    </select>
    
    <insert id="insert" parameterType="com.kdw.studyMeter.study.memorize.vo.StudyMemorizeDetailVo">
		/* studyMemorizeDetail.insert */
		<selectKey keyProperty="seq" resultType="int" order="BEFORE">
			SELECT MAX(SEQ) + 1 FROM TB_STUDY_MEMORIZE_DETAIL
		</selectKey>
		INSERT INTO 
			TB_STUDY_MEMORIZE_DETAIL(
				PARENT_SEQ
				, DATE
				, CONTENTS
				, FILE_SEQS
				, USE_YN
			)VALUES(
				#{parentSeq}
				, #{date}
				, #{contents}
				, #{fileSeqs}
				, 'Y'
			)
	</insert>
    
    <update id="update" parameterType="com.kdw.studyMeter.study.memorize.vo.StudyMemorizeDetailVo">
		/* studyMemorizeDetail.update */
		UPDATE 
			TB_STUDY_MEMORIZE_DETAIL 
		SET 
			DATE = #{date}
			, CONTENTS = #{contents}
			, FILE_SEQS = #{fileSeqs}
			, USE_YN = #{useYn}
		WHERE 
			SEQ = #{seq}
	</update>
</mapper>